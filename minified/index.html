<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sudoku Game</title><style>body,h1,button,table{margin:0;padding:0;box-sizing:border-box}body{font-family:"Arial",sans-serif;text-align:center;background-color:#f9f9f9;color:#000;margin:0;padding:20px}header{display:flex;justify-content:space-between;align-items:center;padding:10px}h1{margin:0;font-size:24px}#dark-mode-toggle{padding:10px 20px;font-size:14px;background-color:#444;color:#fff;border:none;border-radius:4px;cursor:pointer}#game-container{max-width:400px;margin:20px auto}#sudoku-grid{border-collapse:collapse;margin:0 auto;border:3px solid #ccc}#sudoku-grid td{width:40px;height:40px;border:1px solid #ccc;text-align:center;vertical-align:middle}#sudoku-grid td input{width:100%;height:100%;border:none;text-align:center;font-size:18px;outline:none;background:transparent;color:gray}button{margin:5px;padding:10px 20px;font-size:16px;border:none;border-radius:4px;cursor:pointer;background-color:#007bff;color:#fff}#number-buttons{display:grid;grid-template-columns:repeat(3,40px);grid-gap:10px;justify-content:center;margin:10px 0}body.dark-mode{background-color:#121212;color:#fff}body.dark-mode #sudoku-grid td input{color:#ccc}body.dark-mode button{background-color:#444}</style></head><body><header><h1>Sudoku Game</h1><button id="dark-mode-toggle">Toggle Dark Mode</button></header><main><div id="game-container"><table id="sudoku-grid" aria-label="Sudoku Puzzle Grid"></table><div id="button-container"><div id="number-buttons"></div><button id="check-solution">Check Solution</button><button id="reset">Reset</button></div></div></main><script>let sudokuGrid=document.getElementById("sudoku-grid"),checkSolutionButton=document.getElementById("check-solution"),resetButton=document.getElementById("reset"),numberButtonsContainer=document.getElementById("number-buttons"),darkModeToggle=document.getElementById("dark-mode-toggle"),selectedCell=null,timer,elapsedTime=0;function initGame(){generateGrid(),generateNumberButtons(),checkSolutionButton.addEventListener("click",checkSolution),resetButton.addEventListener("click",resetGame)}function generateGrid(){var e=generateSudoku();sudokuGrid.innerHTML="",e.forEach((e,o)=>{let i=document.createElement("tr");e.forEach((e,t)=>{var r=document.createElement("td"),n=document.createElement("input");n.type="text",n.value=e||"",n.disabled=!!e,n.dataset.row=o,n.dataset.col=t,r.appendChild(n),i.appendChild(r)}),sudokuGrid.appendChild(i)}),sudokuGrid.addEventListener("click",e=>{e=e.target.closest("input");e&&(selectedCell=e)})}function generateSudoku(e=60){var t=Array.from({length:9},()=>Array(9).fill(0));for(fillGrid(t);0<e;){var r=Math.floor(9*Math.random()),n=Math.floor(9*Math.random());t[r][n]&&(t[r][n]=0,e--)}return t}function fillGrid(r){var n=[1,2,3,4,5,6,7,8,9];for(let t=0;t<9;t++)for(let e=0;e<9;e++)if(0===r[t][e]){shuffle(n);for(var o of n)if(isValid(r,t,e,o)){if(r[t][e]=o,fillGrid(r))return!0;r[t][e]=0}return!1}return!0}function isValid(e,t,r,n){let o=3*Math.floor(t/3),i=3*Math.floor(r/3);return!e[t].includes(n)&&!e.some(e=>e[r]===n)&&!e.slice(o,3+o).some(e=>e.slice(i,3+i).includes(n))}function shuffle(t){for(let e=t.length-1;0<e;e--){var r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}}function generateNumberButtons(){numberButtonsContainer.innerHTML="",Array.from({length:9},(e,t)=>t+1).forEach(e=>{var t=document.createElement("button");t.textContent=e,t.addEventListener("click",()=>{selectedCell&&!selectedCell.disabled&&(selectedCell.value=e)}),numberButtonsContainer.appendChild(t)})}function checkSolution(){var e=Array.from(sudokuGrid.querySelectorAll("input")).map(e=>+e.value||0);validateSolution(e)&&e.every(e=>0<e)?alert("Puzzle solved!"):(alert("Incorrect solution. Try again."))}function validateSolution(e){for(let r=0;r<9;r++){var t=e.slice(9*r,9*(r+1)),n=e.filter((e,t)=>t%9===r),o=e.filter((e,t)=>Math.floor(t/27)===Math.floor(r/3)&&Math.floor(t%9/3)===r%3);if(!isUnique(t)||!isUnique(n)||!isUnique(o))return!1}return!0}function isUnique(e){e=e.filter(e=>0<e);return new Set(e).size===e.length}function resetGame(){generateGrid()}document.addEventListener("DOMContentLoaded",()=>{initGame()}),darkModeToggle.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),darkModeToggle.textContent=document.body.classList.contains("dark-mode")?"Light Mode":"Dark Mode"}),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.toggle("dark-mode")</script></body></html>